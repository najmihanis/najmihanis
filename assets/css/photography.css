/* ============================================================
   SWISS / INDUSTRIAL PHOTOGRAPHY LAYOUT
   ============================================================ */

/* --- MAIN SECTION LAYOUT --- */
.photo-gallery-section {
    width: 100%;
    padding: 20px 0 60px 0;
    font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
    overflow: visible;

    /* Flexbox Layout for Reordering */
    display: flex;
    flex-direction: column;
}

/* --- ORDERING (Flexbox) --- */
/* --- HEADER --- */
.gallery-header { 
    order: 10; 
    display: flex;
    flex-wrap: wrap;
    align-items: flex-end;
    justify-content: space-between;
    
    border-bottom: 2px solid var(--ink);
    padding-bottom: 20px;

    /* MARGINS control the width of the box + the line */
    margin-left: 5vw;
    margin-right: 5vw;
    margin-bottom: 60px; /* Keep the bottom spacing */
}

/* --- FILTER BUTTONS --- */
.gallery-filter-bar {
    order: 20;
    display: flex; 
    gap: 30px; 
    
    /* Align with the header */
    margin-left: 5vw;
    margin-right: 5vw;
    margin-bottom: 40px;
}
/* 3. Controls (Portrait Mode moves this to 25) */
.carousel-controls { order: 40; } 
/* 4. Camera Stage */
.camera-stage-container { order: 30; }


/* --- TYPOGRAPHY --- */
.gallery-title {
    font-family: 'Montserrat', sans-serif;
    font-weight: 900;
    font-size: 4rem;
    line-height: 0.9;
    color: var(--ink);
    margin: 0;
    text-transform: uppercase;
}
.gallery-title-light { color: #999; }


.gallery-intro {
    font-family: 'Inter', sans-serif;
    font-size: 0.8rem;
   
    letter-spacing: 0.5px;
    border-left: 2px solid var(--ink); /* Data line */
    padding-left: 15px;
}

/* --- FILTER BUTTONS --- */
.gallery-filter-bar {
    display: flex; gap: 30px; margin-bottom: 40px;
}
.filter-btn {
    background: none; border: none; font-family: 'Montserrat', sans-serif;
    font-weight: 700; font-size: 0.9rem; color: #999; cursor: pointer;
    padding: 0; position: relative; transition: color 0.2s;
}
.filter-btn:hover, .filter-btn.active { color: var(--ink); }
.filter-btn.active::after {
    content: ''; position: absolute; bottom: -5px; left: 0; right: 0; height: 2px; background: var(--ink);
}


/* ============================================================
   3D CAMERA LCD CAROUSEL
   ============================================================ */

:root {
    --r: 2500px; 
    --a: 9.9deg;
}

/* --- STAGE CONTAINER (Fluid Layout) --- */
.camera-stage-container {
    /* Default: Landscape Variables */
    --cam-w: 2513;
    --cam-h: 1433;
    --lcd-x: 369;
    --lcd-y: 455;
    --lcd-w: 1118;
    --lcd-h: 793;

    position: relative;
    width: 100%;
    max-width: 100%;
    margin: 40px auto;
    /* Height is dictated by the active image (height: auto) */
}

/* --- PORTRAIT MODE OVERRIDE --- */
.camera-stage-container.mode-portrait {
    /* Portrait Variables */
    --cam-w: 1403;
    --cam-h: 2438;
    --lcd-x: 175;
    --lcd-y: 316;
    --lcd-w: 793;
    --lcd-h: 1118;

    /* Shrink & Center Logic */
    width: 60%;           
    margin-left: auto;   
    margin-right: auto;
    
    /* 3. NEW: REDUCE TOP MARGIN (The Gap Fix) */
    /* Default was 40px. We reduce it to 10px or 0px. */
    margin-top: 10px;

    /* Scale Physics (0.8 * 2500px) */
    --r: 2000px;
}


/* --- CAMERA OVERLAYS --- */
.camera-overlay {
    display: none; /* Hidden by default */
    width: 100%;
    height: auto;  /* Respects Aspect Ratio */
    pointer-events: none;
    z-index: 5;
}

/* Logic: Active overlay is 'block', Inactive is 'none' */
.overlay-landscape { display: block; position: relative; }
.overlay-portrait  { display: none; }

.camera-stage-container.mode-portrait .overlay-landscape { display: none; }
.camera-stage-container.mode-portrait .overlay-portrait  { display: block; position: relative; }


/* --- 3D SCENE (The LCD Screen) --- */
.carousel-3d-scene {
    position: absolute;
    /* Calculated Position based on current mode variables */
    left: calc(var(--lcd-x) / var(--cam-w) * 100%);
    top: calc(var(--lcd-y) / var(--cam-h) * 100%);
    width: calc(var(--lcd-w) / var(--cam-w) * 100%);
    height: calc(var(--lcd-h) / var(--cam-h) * 100%);
    
    perspective-origin: 50% 50%;
    perspective: 4000px; 
    z-index: 20; 
}

.carousel-track {
    position: relative;
    width: 100%; height: 100%;
    transform-style: preserve-3d;
}

/* --- SLIDES --- */
.c-slide {
    position: absolute;
    left: 0; top: 0;
    width: 100%; height: 100%;
    
    transform-style: preserve-3d;
    transition: all 0.6s cubic-bezier(0.25, 1, 0.5, 1);
    backface-visibility: hidden;
    overflow: hidden; 
    
    background: #000; /* Letterboxing */
}

.c-slide img {
    width: 100%; height: 100%; 
    object-fit: contain; /* Full image visible */
    display: block;
    box-shadow: inset 0 0 20px rgba(0,0,0,0.8);
}


/* --- ORBIT LOGIC (Aggressive Gradient) --- */

/* CENTER (Active) */
.c-slide[data-pos="0"] {
    transform: translateZ(calc(var(--r) * -1)) rotateY(0deg) translateZ(var(--r));
    z-index: 30;
    opacity: 1;
    filter: brightness(1.05); 
    -webkit-mask-image: none;
    mask-image: none;
    pointer-events: auto;
}

/* RIGHT 1 (Adjacent) */
.c-slide[data-pos="1"] {
    transform: translateZ(calc(var(--r) * -1)) rotateY(var(--a)) translateZ(var(--r));
    z-index: 29;
    opacity: 0.5; 
    
    /* VERY AGGRESSIVE: Visible only for the first 25% */
    -webkit-mask-image: linear-gradient(to right, black 0%, transparent 25%);
    mask-image: linear-gradient(to right, black 0%, transparent 25%);
    
    filter: blur(2px) grayscale(100%);
}

/* LEFT 1 (Adjacent) */
.c-slide[data-pos="-1"] {
    transform: translateZ(calc(var(--r) * -1)) rotateY(calc(var(--a) * -1)) translateZ(var(--r));
    z-index: 29;
    opacity: 0.5;
    
    /* VERY AGGRESSIVE: Transparent until 75%, visible only at the very end */
    -webkit-mask-image: linear-gradient(to right, transparent 75%, black 100%);
    mask-image: linear-gradient(to right, transparent 75%, black 100%);
    
    filter: blur(2px) grayscale(100%);
}

/* FAR SLIDES - Invisible */
.c-slide[data-pos="2"],
.c-slide[data-pos="-2"] {
    transform: translateZ(calc(var(--r) * -1)) rotateY(calc(var(--a) * 2)) translateZ(var(--r)); 
    z-index: 28;
    opacity: 0;
    pointer-events: none;
}
.c-slide[data-pos="-2"] {
    transform: translateZ(calc(var(--r) * -1)) rotateY(calc(var(--a) * -2)) translateZ(var(--r));
}

/* --- CONTROLS UI --- */
.carousel-controls {
    display: flex; 
    justify-content: center; 
    gap: 20px; 
    margin-top: 20px; 
    transition: all 0.3s ease;
}

/* Button Styling */
.cine-btn {
    font-weight: 700; background: transparent; border: 2px solid #1a1a1a;
    padding: 10px 20px; cursor: pointer; transition: 0.2s;
}
.cine-btn:hover { background: #1a1a1a; color: #fff; }

/* Portrait Mode Reordering (Moves controls above camera) */
.carousel-controls.mode-portrait {
    order: 25;
    margin-top: 0;      
    margin-bottom: 0; 
}